<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

<div class="login-bg">
    <div class="bg-image"></div>

    <!-- Title -->
    <h1 class="city-title">ANGELES CITY DOCUMENT REQUEST</h1>

    <!-- Logo -->
    <img src="/assets/images/angeles_city_logo.png" alt="Angeles City Logo" class="logo" />

    <!-- Subtitle -->
    <p class="welcome-text">CREATE YOUR ACCOUNT NOW</p>

    <!-- Register Card -->
    <div class="login-container">
        <div class="login-box">

            <!-- Registration Form -->
            <form *ngIf="!isOtpSent" [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="form-box">

                <h3 class="login-title">SIGN UP</h3>

                <!-- Email -->
                <div class="input-with-icon">
                    <input type="email" formControlName="email" placeholder="Email Address" />
                </div>

                <!-- Password -->
                <div class="input-with-icon">
                    <input [type]="showPassword ? 'text' : 'password'"
                           formControlName="password"
                           placeholder="Password" />
                    <span class="password-toggle" (click)="showPassword = !showPassword">
                        <i [class]="showPassword ? 'fa-solid fa-eye' : 'fa-solid fa-eye-slash'"></i>
                    </span>
                </div>

                <!-- Confirm Password -->
                <div class="input-with-icon">
                    <input [type]="showConfirmPassword ? 'text' : 'password'"
                           formControlName="confirmPassword"
                           placeholder="Confirm Password" />
                    <span class="password-toggle" (click)="showConfirmPassword = !showConfirmPassword">
                        <i [class]="showConfirmPassword ? 'fa-solid fa-eye' : 'fa-solid fa-eye-slash'"></i>
                    </span>
                </div>

                <!-- Register Button -->
                <button type="submit" class="login-btn" [disabled]="registerForm.invalid">REGISTER</button>

                <!-- Already have an account -->
                <p class="register-text">
                    Already have an account?
                    <a routerLink="/login">Log in</a>
                </p>

            </form>

            <!-- OTP Verification Section -->
            <div *ngIf="isOtpSent" class="form-box">

                <h3 class="login-title">VERIFY YOUR ACCOUNT</h3>

                <p class="otp-text">
                    An OTP has been sent to {{ registerForm.value.email }}
                </p>

                <!-- OTP Input -->
                <div class="input-with-icon">
                    <input type="text"
                           [(ngModel)]="otpCode"
                           [ngModelOptions]="{standalone: true}"
                           placeholder="Enter 6-digit OTP"
                           maxlength="6" />
                </div>

                <!-- Verify Button -->
                <button type="button" (click)="onVerifyOtp()" class="login-btn">VERIFY ACCOUNT</button>

                <!-- Back link -->
                <p class="register-text">
                    <a (click)="isOtpSent = false" style="cursor:pointer; color:#ffd6d1;">
                        ‚Üê Back to edit info
                    </a>
                </p>
            </div>
        </div>
    </div>
</div>